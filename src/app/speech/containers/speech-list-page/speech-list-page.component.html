<!-- NOTE: mat-elevation-* classes is included in angular-material
Add it to the element wrapping both table and paginator  -->
<div class="speech-list-page">
  <h2 class="speech-list-page__header">Your Speeches</h2>
  <div class="speech-list-page__filter">
    <div class="d-flex justify-content-end">
      <mat-form-field appearance="outline">
        <input
          matInput
          placeholder="search"
          aria-label="speech search filter"
          #filter
        />
      </mat-form-field>
      <button type="button" mat-flat-button color="accent">Search</button>
    </div>
  </div>
  <div class="speech-list-page__table mat-elevation-z5">
    <table
      mat-table
      matSort
      [matSortStart]="sortOrder"
      matSortDisableClear
      [dataSource]="dataSource"
    >
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
        <td mat-cell *matCellDef="let speech">
          <a [routerLink]="['/speeches', speech.id]">{{ speech.title }}</a>
        </td>
      </ng-container>

      <ng-container matColumnDef="dueDate">
        <th mat-header-cell *matHeaderCellDef>Scheduled At</th>
        <td mat-cell *matCellDef="let speech">
          {{ speech.dueDate | date: 'shortDate' }}
        </td>
      </ng-container>

      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef>Created At</th>
        <td mat-cell *matCellDef="let speech">
          {{ speech.createdAt | date: 'shortDate' }}
        </td>
      </ng-container>

      <ng-container matColumnDef="updatedAt">
        <th mat-header-cell *matHeaderCellDef>Last Updated</th>
        <td mat-cell *matCellDef="let speech">
          {{ speech.updatedAt | relativeDate }}
        </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="text-center">Actions</th>
        <td mat-cell *matCellDef="let speech" class="text-center">
          <a
            [routerLink]="['/speeches', speech.id, 'edit']"
            mat-icon-button
            matTooltip="Click to Edit"
          >
            <mat-icon aria-label="Edit">edit</mat-icon>
        </a>
          <button
            mat-icon-button
            matTooltip="Click to Share"
            class="iconbutton"
          >
            <mat-icon aria-label="Share">share</mat-icon>
          </button>
          <button
            mat-icon-button
            matTooltip="Click to Delete"
            class="iconbutton"
            (click)="deleteSpeech(speech.id)"
          >
            <mat-icon aria-label="Delete">delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <div *ngIf="loading$ | async" class="spinner-container">
      <mat-progress-spinner
        color="accent"
        mode="indeterminate"
        aria-label="Loading spinner"
      >
      </mat-progress-spinner>
    </div>
    <mat-paginator
      [length]="allSpeechesCount$ | async"
      [pageSizeOptions]="pageSizeOptions"
      [pageSize]="pageSize"
    ></mat-paginator>
  </div>
</div>
