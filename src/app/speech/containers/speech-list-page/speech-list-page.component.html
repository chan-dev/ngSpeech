<!-- NOTE: mat-elevation-* classes is included in angular-material
Add it to the element wrapping both table and paginator  -->
<div class="speech-list-page">
  <h2 class="speech-list-page__header">Your Speeches</h2>
  <div class="speech-list-page__table mat-elevation-z5">
    <table
      mat-table
      matSort
      [matSortStart]="sortOrder"
      matSortDisableClear
      [dataSource]="dataSource"
    >

      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
        <td mat-cell *matCellDef="let speech">
          <a [routerLink]="['/speeches', speech.id]">{{ speech.title }}</a>
        </td>
      </ng-container>

      <ng-container matColumnDef="createdAt">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Created At</th>
        <td mat-cell *matCellDef="let speech">{{ speech.createdAt | date:'mediumDate' }}</td>
      </ng-container>

      <ng-container matColumnDef="updatedAt">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Updated</th>
        <td mat-cell *matCellDef="let speech">{{ speech.updatedAt | relativeDate }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
      ></tr>
    </table>

    <div *ngIf="loading$ | async" class="spinner-container">
      <mat-progress-spinner
        color="accent"
        mode="indeterminate"
        aria-label="Loading spinner"
      >
      </mat-progress-spinner>
    </div>
    <mat-paginator
      [length]="allSpeechesCount$ | async"
      [pageSizeOptions]="pageSizeOptions"
      [pageSize]="pageSize"
    ></mat-paginator>
  </div>
</div>
